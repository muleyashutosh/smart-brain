(this["webpackJsonpface-recogition-brain"]=this["webpackJsonpface-recogition-brain"]||[]).push([[0],{326:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(9),r=n.n(s),i=n(46),c=n.n(i),o=(n(87),n(10)),l=n.n(o),u=n(21),d=n(22),h=n(23),p=n(25),b=n(24),m=(n(89),function(e){var t=e.isSignedIn,n=e.OnRouteChange;return t?Object(a.jsx)("nav",{style:{display:"flex",justifyContent:"flex-end"},children:Object(a.jsx)("div",{onClick:function(){return n("signin")},className:"dim link white underline pointer f4 pa3",children:"Signout"})}):Object(a.jsxs)("nav",{style:{display:"flex",justifyContent:"flex-end"},children:[Object(a.jsx)("div",{onClick:function(){return n("signin")},className:"dim link white underline pointer f4 pa3",children:"Sign In"}),Object(a.jsx)("div",{className:"dim link white underline pointer f4 pa3",onClick:function(){return n("register")},children:"Register"})]})}),j=(n(90),function(e){var t=e.ImageUrl,n=e.Box;return Object(a.jsx)("div",{className:"centerContent ma",children:Object(a.jsxs)("div",{className:"imageBox absolute mt2",children:[Object(a.jsx)("img",{id:"inputImage",width:"400px",height:"auto",src:t,alt:""}),n.map((function(e,t){return Object(a.jsx)("div",{className:"bounding-box",style:{top:e.top,left:e.left,right:e.right,bottom:e.bottom}},t)}))]})})}),g=n(80),O=n.n(g),f=(n(91),n.p+"static/media/brain.bb9f8fe1.svg"),x=function(){return Object(a.jsx)(O.a,{className:"Tilt br3 pa3 ma4 mb0 mt0 shadow-5",options:{max:30},style:{height:125,width:125},children:Object(a.jsx)("div",{className:"Tilt-inner",children:Object(a.jsx)("img",{alt:"logo",src:f})})})},v=n(15),w=n.n(v),N=(n(37),function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).OnEmailChange=function(e){a.setState({signInEmail:e.target.value})},a.OnPaswordChange=function(e){a.setState({signInPassword:e.target.value})},a.OnInputFocus=function(){a.setState({requestFailed:!1})},a.OnSignInSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,s,r,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w.a.start(),n=a.state,s=n.signInEmail,r=n.signInPassword,e.prev=3,e.next=6,fetch("https://whispering-sierra-61887.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:r})});case 6:return i=e.sent,e.next=9,i.json();case 9:(c=e.sent).id?(a.props.loadUser(c),a.props.OnRouteChange("home")):"Wrong Credentials"===c?a.setState({requestFailed:!0,errorMessage:"Invalid Email/Password"}):a.setState({requestFailed:!0,errorMessage:"Error connecting to Server"}),w.a.done(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),a.state={signInEmail:"",signInPassword:"",requestFailed:!1,errorMessage:""},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.OnRouteChange,t=this.state,n=t.requestFailed,s=t.errorMessage;return Object(a.jsx)("article",{className:"br3 shadow-5 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw5 center",children:Object(a.jsx)("main",{className:"pa4 black-80",children:Object(a.jsxs)("form",{className:"measure",onSubmit:this.OnSignInSubmit,children:[Object(a.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(a.jsx)("legend",{className:"f3 fw6 ph0 mh0",children:"Sign In"}),Object(a.jsxs)("div",{className:"mt3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"email-address",children:"Email"}),Object(a.jsx)("input",{onChange:this.OnEmailChange,className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onFocus:this.OnInputFocus,required:!0})]}),Object(a.jsxs)("div",{className:"mv3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{onChange:this.OnPaswordChange,className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onFocus:this.OnInputFocus,required:!0,min:"8"})]})]}),n?Object(a.jsx)("div",{className:"error",children:s}):null,Object(a.jsx)("div",{className:"",children:Object(a.jsx)("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f5 dib",type:"submit",value:"Sign in"})}),Object(a.jsx)("div",{className:"lh-copy mt3",children:Object(a.jsx)("a",{onClick:function(){return e("register")},className:"f6 link dim black db pointer",children:"Register"})})]})})})}}]),n}(r.a.Component)),C=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).OnNameChange=function(e){a.setState({name:e.target.value})},a.OnEmailChange=function(e){a.setState({email:e.target.value})},a.OnInputFocus=function(){a.setState({requestFailed:!1})},a.OnPaswordChange=function(e){a.setState({password:e.target.value})},a.OnRegisterSubmit=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,s,r,i,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w.a.start(),n=a.state,s=n.email,r=n.password,i=n.name,e.prev=3,e.next=6,fetch("https://whispering-sierra-61887.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,email:s,password:r})});case 6:return c=e.sent,e.next=9,c.json();case 9:(o=e.sent).id?(a.props.loadUser(o),a.props.OnRouteChange("home")):a.setState({requestFailed:!0,errorMessage:o}),w.a.done(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",email:"",password:"",requestFailed:!1,errorMessage:""},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.requestFailed,n=e.errorMessage;return Object(a.jsx)("article",{className:"br3 shadow-5 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw5 center",children:Object(a.jsx)("main",{className:"pa4 black-80",children:Object(a.jsxs)("form",{className:"measure",onSubmit:this.OnRegisterSubmit,children:[Object(a.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(a.jsx)("legend",{className:"f3 fw6 ph0 mh0",children:"Register"}),Object(a.jsxs)("div",{className:"mt3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"name",children:"Name"}),Object(a.jsx)("input",{onChange:this.OnNameChange,className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"name",id:"name",required:!0})]}),Object(a.jsxs)("div",{className:"mt3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"email-address",children:"Email"}),Object(a.jsx)("input",{onChange:this.OnEmailChange,className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",required:!0})]}),Object(a.jsxs)("div",{className:"mv3",children:[Object(a.jsx)("label",{className:"db fw6 lh-copy f5",htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{onChange:this.OnPaswordChange,className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",required:!0})]})]}),t?Object(a.jsx)("div",{className:"error",children:n}):null,Object(a.jsx)("div",{className:"",children:Object(a.jsx)("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f5 dib",type:"submit",value:"Register"})})]})})})}}]),n}(r.a.Component),y=(n(92),function(e){var t=e.Username,n=e.Entries;return Object(a.jsxs)("div",{className:"white",children:[Object(a.jsxs)("div",{className:"f3",children:["".concat(t,", your Entry Count is.."),"."]}),Object(a.jsx)("div",{className:"f1",children:"".concat(n)})]})}),S=(n(93),function(e){var t=e.OnInputChange,n=e.OnButtonClick;return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"white f4",children:"This Magic brain will detect faces in your pictures. Give it a try"}),Object(a.jsx)("form",{className:"centerContent ph3",onSubmit:n,children:Object(a.jsxs)("div",{className:"form pa4 br3 shadow-5 centerContent",children:[Object(a.jsx)("input",{className:"f4 pa2 w-70 center",type:"text",onChange:t}),Object(a.jsx)("button",{type:"submit",className:"w-30 f4 grow bw0 ph3 pv2 dib white bg-light-purple",children:"Detect"})]})})]})}),k=n(81),I=n.n(k),F={particles:{number:{density:{enable:!0,value_area:400},value:35},line_linked:{shadow:{enable:!0,color:"#3CA9D1",blur:5}},shape:{type:"circle",stroke:{width:1,color:"#fff"}}}};w.a.configure({showSpinner:!1});var R={input:"",imageUrl:"",box:[],route:"signin",isSignedIn:!1,user:{id:"",name:"",email:"",entries:0,joined:""}},B=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).loadUser=function(t){e.setState({user:{id:t.id,name:t.name,email:t.email,entries:t.entries,joined:t.joined}})},e.OnInputChange=function(t){e.setState({input:t.target.value})},e.CalculateBoundingBox=function(e){var t=e.outputs[0].data.regions,n=document.getElementById("inputImage"),a=Number(n.width),s=Number(n.height);return t.map((function(e,t){var n=e.region_info.bounding_box;return{left:n.left_col*a,top:n.top_row*s,right:a-n.right_col*a,bottom:s-n.bottom_row*s}}))},e.updateBoxState=function(t){e.setState({box:t})},e.OnButtonClick=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,s,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),w.a.start(),e.setState({imageUrl:e.state.input}),t.prev=3,t.next=6,fetch("https://whispering-sierra-61887.herokuapp.com/imageApi",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:e.state.input})});case 6:return a=t.sent,t.next=9,a.json();case 9:if(s=t.sent,e.updateBoxState(e.CalculateBoundingBox(s)),!s){t.next=20;break}return t.next=14,fetch("https://whispering-sierra-61887.herokuapp.com/image",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.state.user.id})});case 14:return r=t.sent,t.next=17,r.json();case 17:i=t.sent,w.a.done(),e.setState(Object.assign(e.state.user,{entries:i}));case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(3),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[3,22]])})));return function(e){return t.apply(this,arguments)}}(),e.OnRouteChange=function(t){"home"===t?e.setState({isSignedIn:!0}):e.setState(R),e.setState({route:t})},e.state=R,e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.route,n=e.isSignedIn,s=e.box,r=e.imageUrl,i=this.state.user,c=i.name,o=i.entries;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(I.a,{className:"particles",params:F}),Object(a.jsx)(m,{isSignedIn:n,OnRouteChange:this.OnRouteChange}),"signin"===t?Object(a.jsx)(N,{loadUser:this.loadUser,OnRouteChange:this.OnRouteChange}):"register"===t?Object(a.jsx)(C,{loadUser:this.loadUser,OnRouteChange:this.OnRouteChange}):Object(a.jsxs)("div",{children:[Object(a.jsx)(x,{}),Object(a.jsx)(y,{Username:c,Entries:o}),Object(a.jsx)(S,{OnInputChange:this.OnInputChange,OnButtonClick:this.OnButtonClick}),Object(a.jsx)(j,{Box:s,ImageUrl:r})]})]})}}]),n}(s.Component),E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,327)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};n(325);c.a.render(Object(a.jsx)(B,{}),document.getElementById("root")),E()},87:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){}},[[326,1,2]]]);
//# sourceMappingURL=main.1e750858.chunk.js.map